<%= form_for(@ranking) do |f|%>

    <%= @ranking.errors.full_messages %>

    <% if params[:category_id].blank? %>
        <h2><%= f.label :category_id, "Select Category: " %>
            <%= f.collection_select(:category_id, Category.all, :id, :title) %></h2>
    <% else %>
        <h2>New Top 5: <%= @category.title %> Ranking</h2>
        <%= f.hidden_field :category_id, value: @category.id %>
    <% end %>

    <h4>by: <%= current_user.username.capitalize %></h4>
    <hr>

    <ol>
    <!-- rankings has_many :selections (plural) -->
    <%= f.fields_for :selections do |selection_builder|%>
        <li>
            <%= selection_builder.collection_select(:player_id, Player.all, :id, :name, include_blank: true)%>
        </li>
        <br>
    <% end %>
    </ol>

    <%= f.label :content, "Honorable Mentions" %><br>
    <%= f.text_area :content %>

    <br>
    <%= f.submit %>

<% end %>
